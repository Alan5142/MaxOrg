<div class="fixActionRow">
  <h1 mat-dialog-title>
    <div *ngIf="!isEditing">
      {{data.task.title}}
    </div>
    <mat-form-field *ngIf="isEditing">
      <input matInput type="text" [(ngModel)]="data.task.title" name="title">
    </mat-form-field>
    <button mat-icon-button
            *ngIf="data.canEdit" (click)="isEditing = !isEditing; updateMarkdown()">
      <mat-icon color="primary">edit</mat-icon>
    </button>
    <button mat-icon-button
            *ngIf="data.canEdit" (click)="deleteToDoTask()">
      <mat-icon color="warn">delete_forever</mat-icon>
    </button>
  </h1>
  <div mat-dialog-content>
    <h4>Breve descripción</h4>
    <p *ngIf="!isEditing">{{data.task.description}}</p>
    <mat-form-field *ngIf="isEditing">
      <input matInput type="text" name="description" [(ngModel)]="data.task.description">
    </mat-form-field>
    <mat-divider></mat-divider>
    <h4>Descripción</h4>
    <mat-divider></mat-divider>
    <div *ngIf="!isEditing">
      <div [innerHTML]="description">
      </div>
    </div>

    <div *ngIf="isEditing" class="height-100 width-100">
      <form class="width-100 height-100">
        <mat-form-field class="width-100 height-100">
          <textarea #detailedDescription
                    matInput cdkTextareaAutosize cdkAutosizeMinRows="2"
                    name="detailedDescription"
                    [(ngModel)]="data.task.detailedDescription"></textarea>
          <mat-label>Puedes utilizar markdown y html</mat-label>
        </mat-form-field>
      </form>
    </div>

  </div>

  <div class="spacer"></div>

  <div mat-dialog-actions align="end">
    <button mat-button [mat-dialog-close]="">CANCELAR</button>
    <button mat-flat-button cdkFocusInitial [mat-dialog-close]="{shouldModify: true}" color="primary">CERRAR</button>
  </div>
</div>
